
<!DOCTYPE html>
<!--[if IEMobile 7 ]><html class="no-js iem7"><![endif]-->
<!--[if lt IE 9]><html class="no-js lte-ie8"><![endif]-->
<!--[if (gt IE 8)|(gt IEMobile 7)|!(IEMobile)|!(IE)]><!--><html class="no-js" lang="en"><!--<![endif]-->
<head>
  <meta charset="utf-8">
  <title>Octopress to rule them all - All Abouts</title>
  <meta name="author" content="Yuri Bochkarev">

  
  <meta name="description" content="It&#8217;s been a long while since I decided to switch from Google Blogspot
to Octopress and start blogging like a geek. For almost a year I couldn&# &hellip;">
  

  <!-- http://t.co/dKP3o1e -->
  <meta name="HandheldFriendly" content="True">
  <meta name="MobileOptimized" content="320">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  
  <link rel="canonical" href="http://balta2ar.github.io/blog/2013/10/13/octopress-to-rule-them-all">
  <link href="/favicon.png" rel="icon">
  <link href="/stylesheets/screen.css" media="screen, projection" rel="stylesheet" type="text/css">
  <link href="/atom.xml" rel="alternate" title="All Abouts" type="application/atom+xml">
  <script src="/javascripts/modernizr-2.0.js"></script>
  <script src="//ajax.googleapis.com/ajax/libs/jquery/1.9.1/jquery.min.js"></script>
  <script>!window.jQuery && document.write(unescape('%3Cscript src="./javascripts/lib/jquery.min.js"%3E%3C/script%3E'))</script>
  <script src="/javascripts/octopress.js" type="text/javascript"></script>
  <!--Fonts from Google"s Web font directory at http://google.com/webfonts -->
<link href="http://fonts.googleapis.com/css?family=PT+Serif:regular,italic,bold,bolditalic" rel="stylesheet" type="text/css">
<link href="http://fonts.googleapis.com/css?family=PT+Sans:regular,italic,bold,bolditalic" rel="stylesheet" type="text/css">

  
  <script type="text/javascript">
    var _gaq = _gaq || [];
    _gaq.push(['_setAccount', 'UA-44827113-1']);
    _gaq.push(['_trackPageview']);

    (function() {
      var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
      ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
      var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
    })();
  </script>


</head>

<body   >
  <header role="banner"><hgroup>
  <h1><a href="/">All Abouts</a></h1>
  
    <h2>Mostly technical.</h2>
  
</hgroup>

</header>
  <nav role="navigation"><ul class="subscription" data-subscription="rss">
  <li><a href="/atom.xml" rel="subscribe-rss" title="subscribe via RSS">RSS</a></li>
  
</ul>
  
<form action="http://google.com/search" method="get">
  <fieldset role="search">
    <input type="hidden" name="q" value="site:balta2ar.github.io" />
    <input class="search" type="text" name="q" results="0" placeholder="Search"/>
  </fieldset>
</form>
  
<ul class="main-navigation">
  <li><a href="/">Blog</a></li>
  <li><a href="/blog/archives">Archives</a></li>
</ul>

</nav>
  <div id="main">
    <div id="content">
      <div>
<article class="hentry" role="article">
  
  <header>
    
      <h1 class="entry-title">Octopress to Rule Them All</h1>
    
    
      <p class="meta">
        








  


<time datetime="2013-10-13T19:11:00+04:00" pubdate data-updated="true">Oct 13<span>th</span>, 2013</time>
        
         | <a href="#disqus_thread">Comments</a>
        
      </p>
    
  </header>


<div class="entry-content"><p>It&#8217;s been a long while since I decided to switch from <a href="http://baltazar-bz.blogspot.ru/">Google Blogspot</a>
to Octopress and start blogging like a geek. For almost a year I couldn&#8217;t
force myself to write even a short post. There were different reasons to that,
and some of them are technical. Being a complete rookie to Ruby, I was scared
by all these daunting rake commands and Octopress machinery. It actually helped
me to write down and summarize the commands that I need in a single place. Now
I&#8217;d like them to be a separate post just as a little reminder to myself.</p>

<!-- more -->


<p>What I liked about Octopress immediately is markdown, of course. It wasn&#8217;t
nearly convenient to fix an old post in Blogspot as it is in Octopress. You can
edit Blogspot posts right onsite to make it easier. Not for me. The feature of
switching modes between compose/HTML didn&#8217;t help at all. Stop messing with
HTML in every post was a very attactive feature of Octopress. Besides, having
a blog in public so that people can send you pull requests is so cool that it
must be declared illegal.</p>

<p>Anyway, I made my decision and here it goes. I followed carefully <a href="http://octopress.org/docs/">Octopress
documentation</a>. It wasn&#8217;t a piece of cake to install
correct version of Ruby, all necessary bundles, deal with <a href="http://www.nonsenseby.me/blog/2013/04/13/arch-linux/">broken</a>
<a href="https://github.com/tmm1/pygments.rb/issues/45">pygments</a>, configure my own
color scheme, and got it up and running eventually. Hopefully, I got through
all that and now it&#8217;s time to relax in a serene joy and write one post after
another like a mad.</p>

<p>To do that, I use the following commands.</p>

<h3>1. Switch to source branch</h3>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>git checkout source</span></code></pre></td></tr></table></div></figure>


<h3>2. Activate rake</h3>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>source /home/bz/.rvm/scripts/rvm
</span><span class='line'>rvm use 1.9.3</span></code></pre></td></tr></table></div></figure>


<h3>3. Setup environment for pygmentize</h3>

<p>The problem with pygmentize out of the box is that mentos.py in my version
calls for <code>/usr/bin/env python</code> which is <code>python3</code> in ArchLinux by default.
However, <code>python2</code> is required. To fix that, I created virtualenv where
<code>python2.7</code> is active by default. Activate it before generating the blog:</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>source ~/.virtualenvs/blog_env/bin/activate</span></code></pre></td></tr></table></div></figure>


<h3>4. Run preview/generate server</h3>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>jekyll --auto --server --future</span></code></pre></td></tr></table></div></figure>


<p>Other useful commands might be:</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>rake preview
</span><span class='line'>rake watch</span></code></pre></td></tr></table></div></figure>


<h3>5. Create new post</h3>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>rake new_post\["How I spent the summer"\]</span></code></pre></td></tr></table></div></figure>


<h3>6. Deploy</h3>

<p>When ready, I usually do <code>rake generate</code> once again (just to be safe),
commit to the source branch, push and finally deploy. All this happens in the
source branch of the blog (<code>rake deploy</code> automatically deals with <code>master</code>):</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>rake generate
</span><span class='line'>git add .
</span><span class='line'>git commit -m "New post about the last summer"
</span><span class='line'>git push
</span><span class='line'>rake deploy</span></code></pre></td></tr></table></div></figure>


<p>And I got new post upstream in a matter of seconds.</p>

<hr />
</div>


  <footer>
    <p class="meta">
      
  

<span class="byline author vcard">Posted by <span class="fn">Yuri Bochkarev</span></span>

      








  


<time datetime="2013-10-13T19:11:00+04:00" pubdate data-updated="true">Oct 13<span>th</span>, 2013</time>
      

<span class="categories">
  
    <a class='category' href='/blog/categories/command-line/'>command line</a>, <a class='category' href='/blog/categories/octopress/'>octopress</a>, <a class='category' href='/blog/categories/rake/'>rake</a>, <a class='category' href='/blog/categories/ruby/'>ruby</a>, <a class='category' href='/blog/categories/virtualenv/'>virtualenv</a>
  
</span>


    </p>
    
      <div class="sharing">
  
  <a href="http://twitter.com/share" class="twitter-share-button" data-url="http://balta2ar.github.io/blog/2013/10/13/octopress-to-rule-them-all/" data-via="baltazar_bz" data-counturl="http://balta2ar.github.io/blog/2013/10/13/octopress-to-rule-them-all/" >Tweet</a>
  
  
  <div class="g-plusone" data-size="medium"></div>
  
  
    <div class="fb-like" data-send="true" data-width="450" data-show-faces="false"></div>
  
</div>

    
    <p class="meta">
      
        <a class="basic-alignment left" href="/blog/2013/10/13/download-itunes-u-course-the-hacker-way/" title="Previous Post: Download iTunes U Course - The Hacker Way">&laquo; Download iTunes U Course - The Hacker Way</a>
      
      
        <a class="basic-alignment right" href="/blog/2013/11/23/bandwidth-shaping-in-linux/" title="Next Post: Bandwidth shaping in Linux">Bandwidth shaping in Linux &raquo;</a>
      
    </p>
  </footer>
</article>

  <section>
    <h1>Comments</h1>
    <div id="disqus_thread" aria-live="polite"><noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
</div>
  </section>

</div>

<aside class="sidebar">
  
    <section>
  <h1>Recent Posts</h1>
  <ul id="recent_posts">
    
      <li class="post">
        <a href="/blog/2013/11/23/bandwidth-shaping-in-linux/">Bandwidth shaping in Linux</a>
      </li>
    
      <li class="post">
        <a href="/blog/2013/10/13/octopress-to-rule-them-all/">Octopress to rule them all</a>
      </li>
    
      <li class="post">
        <a href="/blog/2013/10/13/download-itunes-u-course-the-hacker-way/">Download iTunes U Course - The Hacker Way</a>
      </li>
    
  </ul>
</section>





  
</aside>


    </div>
  </div>
  <footer role="contentinfo"><p>
  Copyright &copy; 2013 - Yuri Bochkarev -
  <span class="credit">Powered by <a href="http://octopress.org">Octopress</a></span>
</p>

</footer>
  

<script type="text/javascript">
      var disqus_shortname = 'allabouts';
      
        
        // var disqus_developer = 1;
        var disqus_identifier = 'http://balta2ar.github.io/blog/2013/10/13/octopress-to-rule-them-all/';
        var disqus_url = 'http://balta2ar.github.io/blog/2013/10/13/octopress-to-rule-them-all/';
        var disqus_script = 'embed.js';
      
    (function () {
      var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
      dsq.src = 'http://' + disqus_shortname + '.disqus.com/' + disqus_script;
      (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
    }());
</script>



<div id="fb-root"></div>
<script>(function(d, s, id) {
  var js, fjs = d.getElementsByTagName(s)[0];
  if (d.getElementById(id)) {return;}
  js = d.createElement(s); js.id = id; js.async = true;
  js.src = "//connect.facebook.net/en_US/all.js#appId=212934732101925&xfbml=1";
  fjs.parentNode.insertBefore(js, fjs);
}(document, 'script', 'facebook-jssdk'));</script>



  <script type="text/javascript">
    (function() {
      var script = document.createElement('script'); script.type = 'text/javascript'; script.async = true;
      script.src = 'https://apis.google.com/js/plusone.js';
      var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(script, s);
    })();
  </script>



  <script type="text/javascript">
    (function(){
      var twitterWidgets = document.createElement('script');
      twitterWidgets.type = 'text/javascript';
      twitterWidgets.async = true;
      twitterWidgets.src = 'http://platform.twitter.com/widgets.js';
      document.getElementsByTagName('head')[0].appendChild(twitterWidgets);
    })();
  </script>





</body>
</html>
